/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.5 		*/
/*  Created On : 26-ene-2018 03:23:30 p.m. 				*/
/*  DBMS       : MySql 						*/
/* ---------------------------------------------------- */

SET FOREIGN_KEY_CHECKS=0;

DROP TABLE IF EXISTS `RENDIMIENTO_HISTORICO_FONDOPO` CASCADE;

DROP TABLE IF EXISTS `RENDIMIENTO_HISTORICO_FONDOPV` CASCADE;

/* Create Tables */

CREATE TABLE `RENDIMIENTO_HISTORICO_FONDOPO`
(
	`ID` BIGINT(20) NOT NULL AUTO_INCREMENT,
	`ID_FONDOPO` INT NOT NULL,
	`FECHA` DATE NULL,
	`PORCENTAJE` DECIMAL(18,12) NULL,
	`VALOR` DECIMAL(18,12) NULL,
	CONSTRAINT `PK_RENDIMIENTO_HISTORICO_FONDOPO` PRIMARY KEY (`ID` ASC));

CREATE TABLE `RENDIMIENTO_HISTORICO_FONDOPV`
(
	`ID` BIGINT(20) NOT NULL AUTO_INCREMENT,
	`ID_FONDOPV` INT NOT NULL,
	`FECHA` DATE NULL,
	`PORCENTAJE` DECIMAL(18,12) NULL,
	`VALOR` DECIMAL(18,12) NULL,
	CONSTRAINT `PK_RENDIMIENTO_HISTORICO_FONDOPO` PRIMARY KEY (`ID` ASC));

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE `RENDIMIENTO_HISTORICO_FONDOPO` ADD CONSTRAINT `UK_FONDO_FECHA_PORCENTAJE_VALOR` UNIQUE (`ID_FONDOPO` ASC, `FECHA` ASC, `VALOR` ASC, `PORCENTAJE` ASC);

ALTER TABLE `RENDIMIENTO_HISTORICO_FONDOPV` ADD CONSTRAINT `UK_FONDOPV_FECHA_PORCENTAJE_VALOR` UNIQUE (`ID_FONDOPV` ASC, `FECHA` ASC, `VALOR` ASC, `PORCENTAJE` ASC);

ALTER TABLE `RENDIMIENTO_HISTORICO_FONDOPO` ADD CONSTRAINT `FK_RENDIMIENTO_HISTORICO_FONDOPO` FOREIGN KEY (`ID_FONDOPO`) REFERENCES `FONDOPO` (`ID`) ON DELETE Restrict ON UPDATE Restrict;

ALTER TABLE `RENDIMIENTO_HISTORICO_FONDOPV` ADD CONSTRAINT `FK_RENDIMIENTO_HISTORICO_FONDOPV` FOREIGN KEY (`ID_FONDOPV`) REFERENCES `FONDOPV` (`ID`) ON DELETE Restrict ON UPDATE Restrict;

SET FOREIGN_KEY_CHECKS=1;


